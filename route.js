/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_natha_OneDrive_Desktop_repos_New_folder_workspace_3715db34_e9be_4849_b188_8ce2fe733816_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\natha\\\\OneDrive\\\\Desktop\\\\repos\\\\New folder\\\\workspace-3715db34-e9be-4849-b188-8ce2fe733816\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_natha_OneDrive_Desktop_repos_New_folder_workspace_3715db34_e9be_4849_b188_8ce2fe733816_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNuYXRoYSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3JlcG9zJTVDTmV3JTIwZm9sZGVyJTVDd29ya3NwYWNlLTM3MTVkYjM0LWU5YmUtNDg0OS1iMTg4LThjZTJmZTczMzgxNiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDbmF0aGElNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNyZXBvcyU1Q05ldyUyMGZvbGRlciU1Q3dvcmtzcGFjZS0zNzE1ZGIzNC1lOWJlLTQ4NDktYjE4OC04Y2UyZmU3MzM4MTYmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ29HO0FBQ2pMO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxuYXRoYVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXHJlcG9zXFxcXE5ldyBmb2xkZXJcXFxcd29ya3NwYWNlLTM3MTVkYjM0LWU5YmUtNDg0OS1iMTg4LThjZTJmZTczMzgxNlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcbmF0aGFcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxyZXBvc1xcXFxOZXcgZm9sZGVyXFxcXHdvcmtzcGFjZS0zNzE1ZGIzNC1lOWJlLTQ4NDktYjE4OC04Y2UyZmU3MzM4MTZcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxbLi4ubmV4dGF1dGhdXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n\n\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(_lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFDUTtBQUV6QyxNQUFNRSxVQUFVRixnREFBUUEsQ0FBQ0Msa0RBQVdBO0FBRU8iLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmF0aGFcXE9uZURyaXZlXFxEZXNrdG9wXFxyZXBvc1xcTmV3IGZvbGRlclxcd29ya3NwYWNlLTM3MTVkYjM0LWU5YmUtNDg0OS1iMTg4LThjZTJmZTczMzgxNlxcc3JjXFxhcHBcXGFwaVxcYXV0aFxcWy4uLm5leHRhdXRoXVxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSBcIkAvbGliL2F1dGhcIjtcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcblxuZXhwb3J0IHsgaGFuZGxlciBhcyBHRVQsIGhhbmRsZXIgYXMgUE9TVCB9OyJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsImF1dGhPcHRpb25zIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"(rsc)/./node_modules/@next-auth/prisma-adapter/dist/index.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logging */ \"(rsc)/./src/lib/logging.ts\");\n\n\n\n\n/**\n * Creates a user profile when a user signs in for the first time\n * @param user - The user object from NextAuth\n */ async function createUserProfile(user) {\n    try {\n        // Check if profile already exists to avoid unique constraint conflicts\n        const existing = await _db__WEBPACK_IMPORTED_MODULE_2__.db.userProfile.findUnique({\n            where: {\n                userId: user.id\n            }\n        });\n        if (existing) {\n            return existing;\n        }\n        const displayName = user?.name || (user?.email ? String(user.email).split(\"@\")[0] : \"User\");\n        const profile = await _db__WEBPACK_IMPORTED_MODULE_2__.db.userProfile.create({\n            data: {\n                userId: user.id,\n                displayName,\n                timezone: \"UTC\",\n                // Prisma schema uses String columns; store JSON as strings\n                workHours: JSON.stringify({}),\n                preferences: JSON.stringify({})\n            }\n        });\n        _logging__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"User profile created\", {\n            userId: user.id\n        });\n        return profile;\n    } catch (error) {\n        _logging__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Failed to create user profile\", {\n            userId: user.id,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        });\n        throw error;\n    }\n}\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__.PrismaAdapter)(_db__WEBPACK_IMPORTED_MODULE_2__.db),\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            authorization: {\n                params: {\n                    prompt: \"consent\",\n                    access_type: \"offline\",\n                    response_type: \"code\",\n                    scope: process.env.GOOGLE_API_SCOPE || \"openid email profile https://www.googleapis.com/auth/gmail.readonly https://www.googleapis.com/auth/calendar.readonly\"\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async signIn ({ user, account }) {\n            try {\n                if (account?.provider === \"google\") {\n                    _logging__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"Google OAuth sign in attempt\", {\n                        email: user.email,\n                        userId: user.id,\n                        accountId: account.providerAccountId\n                    });\n                    // Ensure a profile exists for the user\n                    await createUserProfile(user);\n                    return true;\n                }\n                return true;\n            } catch (error) {\n                _logging__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Critical signIn error\", {\n                    error: error instanceof Error ? error.message : \"Unknown error\",\n                    email: user?.email,\n                    userId: user?.id\n                });\n                // Redirect to login with explicit error for better UX\n                return \"/login?error=ProfileCreationFailed\";\n            }\n        },\n        async jwt ({ token, account, user }) {\n            // Store access token in JWT for API calls\n            if (account) {\n                token.accessToken = account.access_token;\n                token.refreshToken = account.refresh_token;\n                token.expiresAt = account.expires_at;\n            }\n            // Add user ID to token\n            if (user) {\n                token.userId = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            // Send properties to the client\n            if (token) {\n                session.accessToken = token.accessToken;\n                // @ts-ignore - extend default session user with id\n                session.user.id = token.userId;\n            }\n            return session;\n        }\n    },\n    events: {\n        async signIn ({ user, account, isNewUser }) {\n            _logging__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"User signed in\", {\n                userId: user.id,\n                email: user.email,\n                provider: account?.provider,\n                isNewUser\n            });\n            // Ensure user profile exists (defensive in case callback creation failed previously)\n            try {\n                await createUserProfile(user);\n            } catch (e) {\n            // Already logged inside createUserProfile; continue to not block sign-in\n            }\n            // Store integration tokens\n            if (account && user.id) {\n                try {\n                    const expiry = account.expires_at ? new Date(account.expires_at * 1000) : null;\n                    await _db__WEBPACK_IMPORTED_MODULE_2__.db.integrationToken.upsert({\n                        where: {\n                            userId_provider: {\n                                userId: user.id,\n                                provider: account.provider\n                            }\n                        },\n                        update: {\n                            accessToken: account.access_token || \"\",\n                            refreshToken: account.refresh_token || undefined,\n                            expiry: expiry\n                        },\n                        create: {\n                            userId: user.id,\n                            provider: account.provider,\n                            accessToken: account.access_token || \"\",\n                            refreshToken: account.refresh_token || undefined,\n                            expiry: expiry\n                        }\n                    });\n                    _logging__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"Integration token stored\", {\n                        userId: user.id,\n                        provider: account.provider\n                    });\n                } catch (error) {\n                    _logging__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Integration token storage failed\", {\n                        userId: user.id,\n                        provider: account.provider,\n                        error: error instanceof Error ? error.message : \"Unknown error\"\n                    });\n                }\n            }\n        },\n        async signOut ({ session, token }) {\n            _logging__WEBPACK_IMPORTED_MODULE_3__.logger.info(\"User signed out\", {\n                userId: session?.user?.id || token?.userId\n            });\n        }\n    },\n    pages: {\n        signIn: \"/login\",\n        error: \"/login\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    // Allow linking accounts with same email address\n    // This fixes the OAuthAccountNotLinked error when a user exists but has no linked Google account\n    allowDangerousEmailAccountLinking: true,\n    debug: \"development\" === \"development\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNWO3dCQUNBN0MsUUFBUTs0QkFDTlIsUUFBUUwsS0FBS00sRUFBRTs0QkFDZnFDLFVBQVVELFFBQVFDLFFBQVE7NEJBQzFCSyxhQUFhTixRQUFRTyxZQUFZLElBQUk7NEJBQ3JDQyxjQUFjUixRQUFRUyxhQUFhLElBQUlhOzRCQUN2Q04sUUFBUUE7d0JBQ1Y7b0JBQ0Y7b0JBQ0E1RCw0Q0FBTUEsQ0FBQ3NCLElBQUksQ0FBQyw0QkFBNEI7d0JBQ3RDZixRQUFRTCxLQUFLTSxFQUFFO3dCQUNmcUMsVUFBVUQsUUFBUUMsUUFBUTtvQkFDNUI7Z0JBQ0YsRUFBRSxPQUFPdEIsT0FBTztvQkFDZHZCLDRDQUFNQSxDQUFDdUIsS0FBSyxDQUFDLG9DQUFvQzt3QkFDL0NoQixRQUFRTCxLQUFLTSxFQUFFO3dCQUNmcUMsVUFBVUQsUUFBUUMsUUFBUTt3QkFDMUJ0QixPQUFPQSxpQkFBaUJDLFFBQVFELE1BQU1FLE9BQU8sR0FBRztvQkFDbEQ7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0EsTUFBTTBDLFNBQVEsRUFBRVgsT0FBTyxFQUFFUCxLQUFLLEVBQUU7WUFDOUJqRCw0Q0FBTUEsQ0FBQ3NCLElBQUksQ0FBQyxtQkFBbUI7Z0JBQzdCZixRQUFRaUQsU0FBU3RELE1BQU1NLE1BQU95QyxPQUFlMUM7WUFDL0M7UUFDRjtJQUNGO0lBQ0E2RCxPQUFPO1FBQ0x6QixRQUFRO1FBQ1JwQixPQUFPO0lBQ1Q7SUFDQWlDLFNBQVM7UUFDUGEsVUFBVTtRQUNWQyxRQUFRLEtBQUssS0FBSyxLQUFLO0lBQ3pCO0lBQ0EsaURBQWlEO0lBQ2pELGlHQUFpRztJQUNqR0MsbUNBQW1DO0lBQ25DQyxPQUFPMUMsa0JBQXlCO0FBQ2xDLEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmF0aGFcXE9uZURyaXZlXFxEZXNrdG9wXFxyZXBvc1xcTmV3IGZvbGRlclxcd29ya3NwYWNlLTM3MTVkYjM0LWU5YmUtNDg0OS1iMTg4LThjZTJmZTczMzgxNlxcc3JjXFxsaWJcXGF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCI7XG5pbXBvcnQgeyBkYiB9IGZyb20gXCIuL2RiXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVzZXIgcHJvZmlsZSB3aGVuIGEgdXNlciBzaWducyBpbiBmb3IgdGhlIGZpcnN0IHRpbWVcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIgb2JqZWN0IGZyb20gTmV4dEF1dGhcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlclByb2ZpbGUodXNlcjogYW55KSB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgcHJvZmlsZSBhbHJlYWR5IGV4aXN0cyB0byBhdm9pZCB1bmlxdWUgY29uc3RyYWludCBjb25mbGljdHNcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGRiLnVzZXJQcm9maWxlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyB1c2VySWQ6IHVzZXIuaWQgfSB9KTtcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG5cbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHVzZXI/Lm5hbWUgfHwgKHVzZXI/LmVtYWlsID8gU3RyaW5nKHVzZXIuZW1haWwpLnNwbGl0KFwiQFwiKVswXSA6IFwiVXNlclwiKTtcbiAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgZGIudXNlclByb2ZpbGUuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgdGltZXpvbmU6IFwiVVRDXCIsXG4gICAgICAgIC8vIFByaXNtYSBzY2hlbWEgdXNlcyBTdHJpbmcgY29sdW1uczsgc3RvcmUgSlNPTiBhcyBzdHJpbmdzXG4gICAgICAgIHdvcmtIb3VyczogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgICAgICBwcmVmZXJlbmNlczogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBsb2dnZXIuaW5mbyhcIlVzZXIgcHJvZmlsZSBjcmVhdGVkXCIsIHsgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgIHJldHVybiBwcm9maWxlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdXNlciBwcm9maWxlXCIsIHtcbiAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiLFxuICAgIH0pO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBhZGFwdGVyOiBQcmlzbWFBZGFwdGVyKGRiKSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQhLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCEsXG4gICAgICBhdXRob3JpemF0aW9uOiB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHByb21wdDogXCJjb25zZW50XCIsXG4gICAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiY29kZVwiLFxuICAgICAgICAgIHNjb3BlOlxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuR09PR0xFX0FQSV9TQ09QRSB8fFxuICAgICAgICAgICAgXCJvcGVuaWQgZW1haWwgcHJvZmlsZSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2dtYWlsLnJlYWRvbmx5IGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2FsZW5kYXIucmVhZG9ubHlcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSksXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIHNpZ25Jbih7IHVzZXIsIGFjY291bnQgfSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSBcImdvb2dsZVwiKSB7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oXCJHb29nbGUgT0F1dGggc2lnbiBpbiBhdHRlbXB0XCIsIHtcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgYWNjb3VudElkOiBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gRW5zdXJlIGEgcHJvZmlsZSBleGlzdHMgZm9yIHRoZSB1c2VyXG4gICAgICAgICAgYXdhaXQgY3JlYXRlVXNlclByb2ZpbGUodXNlcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkNyaXRpY2FsIHNpZ25JbiBlcnJvclwiLCB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG4gICAgICAgICAgZW1haWw6IHVzZXI/LmVtYWlsLFxuICAgICAgICAgIHVzZXJJZDogdXNlcj8uaWQsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiB3aXRoIGV4cGxpY2l0IGVycm9yIGZvciBiZXR0ZXIgVVhcbiAgICAgICAgcmV0dXJuIFwiL2xvZ2luP2Vycm9yPVByb2ZpbGVDcmVhdGlvbkZhaWxlZFwiO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIGFjY291bnQsIHVzZXIgfSkge1xuICAgICAgLy8gU3RvcmUgYWNjZXNzIHRva2VuIGluIEpXVCBmb3IgQVBJIGNhbGxzXG4gICAgICBpZiAoYWNjb3VudCkge1xuICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9IGFjY291bnQuYWNjZXNzX3Rva2VuO1xuICAgICAgICB0b2tlbi5yZWZyZXNoVG9rZW4gPSBhY2NvdW50LnJlZnJlc2hfdG9rZW47XG4gICAgICAgIHRva2VuLmV4cGlyZXNBdCA9IGFjY291bnQuZXhwaXJlc19hdDtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHVzZXIgSUQgdG8gdG9rZW5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVzZXJJZCA9IHVzZXIuaWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICAvLyBTZW5kIHByb3BlcnRpZXMgdG8gdGhlIGNsaWVudFxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHNlc3Npb24uYWNjZXNzVG9rZW4gPSB0b2tlbi5hY2Nlc3NUb2tlbiBhcyBzdHJpbmc7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBleHRlbmQgZGVmYXVsdCBzZXNzaW9uIHVzZXIgd2l0aCBpZFxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICB9LFxuICBldmVudHM6IHtcbiAgICBhc3luYyBzaWduSW4oeyB1c2VyLCBhY2NvdW50LCBpc05ld1VzZXIgfSkge1xuICAgICAgbG9nZ2VyLmluZm8oXCJVc2VyIHNpZ25lZCBpblwiLCB7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIHByb3ZpZGVyOiBhY2NvdW50Py5wcm92aWRlcixcbiAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEVuc3VyZSB1c2VyIHByb2ZpbGUgZXhpc3RzIChkZWZlbnNpdmUgaW4gY2FzZSBjYWxsYmFjayBjcmVhdGlvbiBmYWlsZWQgcHJldmlvdXNseSlcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNyZWF0ZVVzZXJQcm9maWxlKHVzZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBBbHJlYWR5IGxvZ2dlZCBpbnNpZGUgY3JlYXRlVXNlclByb2ZpbGU7IGNvbnRpbnVlIHRvIG5vdCBibG9jayBzaWduLWluXG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3JlIGludGVncmF0aW9uIHRva2Vuc1xuICAgICAgaWYgKGFjY291bnQgJiYgdXNlci5pZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGV4cGlyeSA9IGFjY291bnQuZXhwaXJlc19hdCA/IG5ldyBEYXRlKGFjY291bnQuZXhwaXJlc19hdCAqIDEwMDApIDogbnVsbDtcbiAgICAgICAgICBhd2FpdCBkYi5pbnRlZ3JhdGlvblRva2VuLnVwc2VydCh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICB1c2VySWRfcHJvdmlkZXI6IHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IGFjY291bnQucHJvdmlkZXIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhY2NvdW50LmFjY2Vzc190b2tlbiB8fCBcIlwiLFxuICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IGFjY291bnQucmVmcmVzaF90b2tlbiB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGV4cGlyeTogZXhwaXJ5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgIHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyLFxuICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogYWNjb3VudC5hY2Nlc3NfdG9rZW4gfHwgXCJcIixcbiAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiBhY2NvdW50LnJlZnJlc2hfdG9rZW4gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBleHBpcnk6IGV4cGlyeSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oXCJJbnRlZ3JhdGlvbiB0b2tlbiBzdG9yZWRcIiwge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgcHJvdmlkZXI6IGFjY291bnQucHJvdmlkZXIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKFwiSW50ZWdyYXRpb24gdG9rZW4gc3RvcmFnZSBmYWlsZWRcIiwge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgcHJvdmlkZXI6IGFjY291bnQucHJvdmlkZXIsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2lnbk91dCh7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiVXNlciBzaWduZWQgb3V0XCIsIHtcbiAgICAgICAgdXNlcklkOiBzZXNzaW9uPy51c2VyPy5pZCB8fCAodG9rZW4gYXMgYW55KT8udXNlcklkLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46IFwiL2xvZ2luXCIsXG4gICAgZXJyb3I6IFwiL2xvZ2luXCIsXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIixcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwLCAvLyAzMCBkYXlzXG4gIH0sXG4gIC8vIEFsbG93IGxpbmtpbmcgYWNjb3VudHMgd2l0aCBzYW1lIGVtYWlsIGFkZHJlc3NcbiAgLy8gVGhpcyBmaXhlcyB0aGUgT0F1dGhBY2NvdW50Tm90TGlua2VkIGVycm9yIHdoZW4gYSB1c2VyIGV4aXN0cyBidXQgaGFzIG5vIGxpbmtlZCBHb29nbGUgYWNjb3VudFxuICBhbGxvd0Rhbmdlcm91c0VtYWlsQWNjb3VudExpbmtpbmc6IHRydWUsXG4gIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiLFxufTsiXSwibmFtZXMiOlsiR29vZ2xlUHJvdmlkZXIiLCJQcmlzbWFBZGFwdGVyIiwiZGIiLCJsb2dnZXIiLCJjcmVhdGVVc2VyUHJvZmlsZSIsInVzZXIiLCJleGlzdGluZyIsInVzZXJQcm9maWxlIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwidXNlcklkIiwiaWQiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJlbWFpbCIsIlN0cmluZyIsInNwbGl0IiwicHJvZmlsZSIsImNyZWF0ZSIsImRhdGEiLCJ0aW1lem9uZSIsIndvcmtIb3VycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmVmZXJlbmNlcyIsImluZm8iLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImF1dGhPcHRpb25zIiwiYWRhcHRlciIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImF1dGhvcml6YXRpb24iLCJwYXJhbXMiLCJwcm9tcHQiLCJhY2Nlc3NfdHlwZSIsInJlc3BvbnNlX3R5cGUiLCJzY29wZSIsIkdPT0dMRV9BUElfU0NPUEUiLCJjYWxsYmFja3MiLCJzaWduSW4iLCJhY2NvdW50IiwicHJvdmlkZXIiLCJhY2NvdW50SWQiLCJwcm92aWRlckFjY291bnRJZCIsImp3dCIsInRva2VuIiwiYWNjZXNzVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc0F0IiwiZXhwaXJlc19hdCIsInNlc3Npb24iLCJldmVudHMiLCJpc05ld1VzZXIiLCJlIiwiZXhwaXJ5IiwiRGF0ZSIsImludGVncmF0aW9uVG9rZW4iLCJ1cHNlcnQiLCJ1c2VySWRfcHJvdmlkZXIiLCJ1cGRhdGUiLCJ1bmRlZmluZWQiLCJzaWduT3V0IiwicGFnZXMiLCJzdHJhdGVneSIsIm1heEFnZSIsImFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZyIsImRlYnVnIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        'query'\n    ]\n});\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLEtBQ1hGLGdCQUFnQkcsTUFBTSxJQUN0QixJQUFJSix3REFBWUEsQ0FBQztJQUNmSyxLQUFLO1FBQUM7S0FBUTtBQUNoQixHQUFFO0FBRUosSUFBSUMsSUFBcUMsRUFBRUwsZ0JBQWdCRyxNQUFNLEdBQUdEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG5hdGhhXFxPbmVEcml2ZVxcRGVza3RvcFxccmVwb3NcXE5ldyBmb2xkZXJcXHdvcmtzcGFjZS0zNzE1ZGIzNC1lOWJlLTQ4NDktYjE4OC04Y2UyZmU3MzM4MTZcXHNyY1xcbGliXFxkYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IGRiID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/P1xuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IFsncXVlcnknXSxcbiAgfSlcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBkYiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwiZGIiLCJwcmlzbWEiLCJsb2ciLCJwcm9jZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/logging.ts":
/*!****************************!*\
  !*** ./src/lib/logging.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRequestLogger: () => (/* binding */ createRequestLogger),\n/* harmony export */   generateRequestId: () => (/* binding */ generateRequestId),\n/* harmony export */   logApiRequest: () => (/* binding */ logApiRequest),\n/* harmony export */   logSecurityEvent: () => (/* binding */ logSecurityEvent),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   sanitizeLogData: () => (/* binding */ sanitizeLogData)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n/**\n * Log levels enum\n */ var LogLevel = /*#__PURE__*/ function(LogLevel) {\n    LogLevel[LogLevel[\"ERROR\"] = 0] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 1] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"DEBUG\"] = 3] = \"DEBUG\";\n    return LogLevel;\n}(LogLevel || {});\n/**\n * Simple logger compatible with edge runtime\n */ class EdgeLogger {\n    constructor(){\n        const level = process.env.LOG_LEVEL || \"info\";\n        this.logLevel = this.parseLogLevel(level);\n        this.isDevelopment = \"development\" === \"development\";\n    }\n    parseLogLevel(level) {\n        switch(level.toLowerCase()){\n            case \"error\":\n                return 0;\n            case \"warn\":\n                return 1;\n            case \"info\":\n                return 2;\n            case \"debug\":\n                return 3;\n            default:\n                return 2;\n        }\n    }\n    shouldLog(level) {\n        return level <= this.logLevel;\n    }\n    formatMessage(level, message, meta = {}) {\n        const timestamp = new Date().toISOString();\n        const logEntry = {\n            timestamp,\n            level,\n            message,\n            ...meta\n        };\n        // Remove undefined values\n        Object.keys(logEntry).forEach((key)=>{\n            if (logEntry[key] === undefined) {\n                delete logEntry[key];\n            }\n        });\n        if (this.isDevelopment) {\n            const metaStr = Object.keys(meta).length > 0 ? ` ${JSON.stringify(meta)}` : \"\";\n            const contextStr = meta.requestId ? ` [${meta.requestId}${meta.userId ? `:${meta.userId}` : \"\"}]` : \"\";\n            return `${timestamp} ${level.toUpperCase()}${contextStr}: ${message}${metaStr}`;\n        }\n        return JSON.stringify(logEntry);\n    }\n    error(message, meta = {}) {\n        if (this.shouldLog(0)) {\n            console.error(this.formatMessage(\"error\", message, meta));\n        }\n    }\n    warn(message, meta = {}) {\n        if (this.shouldLog(1)) {\n            console.warn(this.formatMessage(\"warn\", message, meta));\n        }\n    }\n    info(message, meta = {}) {\n        if (this.shouldLog(2)) {\n            console.info(this.formatMessage(\"info\", message, meta));\n        }\n    }\n    debug(message, meta = {}) {\n        if (this.shouldLog(3)) {\n            console.debug(this.formatMessage(\"debug\", message, meta));\n        }\n    }\n    log(level, message, meta = {}) {\n        switch(level.toLowerCase()){\n            case \"error\":\n                this.error(message, meta);\n                break;\n            case \"warn\":\n                this.warn(message, meta);\n                break;\n            case \"info\":\n                this.info(message, meta);\n                break;\n            case \"debug\":\n                this.debug(message, meta);\n                break;\n            default:\n                this.info(message, meta);\n        }\n    }\n    child(context) {\n        return {\n            error: (message, meta = {})=>this.error(message, {\n                    ...context,\n                    ...meta\n                }),\n            warn: (message, meta = {})=>this.warn(message, {\n                    ...context,\n                    ...meta\n                }),\n            info: (message, meta = {})=>this.info(message, {\n                    ...context,\n                    ...meta\n                }),\n            debug: (message, meta = {})=>this.debug(message, {\n                    ...context,\n                    ...meta\n                }),\n            log: (level, message, meta = {})=>this.log(level, message, {\n                    ...context,\n                    ...meta\n                })\n        };\n    }\n}\nconst logger = new EdgeLogger();\n/**\n * Generate a unique request ID\n * @returns A unique request ID string\n */ function generateRequestId() {\n    return (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\n/**\n * Create a child logger with request context\n * @param context - Request context information\n * @returns A child logger with context\n */ function createRequestLogger(context) {\n    return logger.child(context);\n}\n/**\n * Log security events with appropriate level and context\n * @param event - Security event type\n * @param message - Event message\n * @param context - Additional context\n */ function logSecurityEvent(event, message, context = {}) {\n    const level = event === \"auth_failure\" || event === \"unauthorized_access\" ? \"warn\" : \"info\";\n    logger.log(level, message, {\n        securityEvent: event,\n        ...context\n    });\n}\n/**\n * Log API requests with timing and response information\n * @param context - Request context\n * @param duration - Request duration in milliseconds\n * @param statusCode - HTTP status code\n * @param error - Error if request failed\n */ function logApiRequest(context, duration, statusCode, error) {\n    const level = statusCode >= 400 ? \"warn\" : \"info\";\n    const message = `${context.method} ${context.url} - ${statusCode} (${duration}ms)`;\n    const logData = {\n        ...context,\n        duration,\n        statusCode,\n        error: error ? {\n            message: error.message,\n            stack: error.stack\n        } : undefined\n    };\n    logger.log(level, message, logData);\n}\n/**\n * Sanitize sensitive data from logs\n * @param data - Data to sanitize\n * @returns Sanitized data with sensitive fields removed\n */ function sanitizeLogData(data) {\n    const sensitiveFields = [\n        \"password\",\n        \"token\",\n        \"accessToken\",\n        \"refreshToken\",\n        \"secret\",\n        \"key\",\n        \"authorization\",\n        \"cookie\"\n    ];\n    const sanitized = {\n        ...data\n    };\n    function sanitizeObject(obj, path = \"\") {\n        if (typeof obj !== \"object\" || obj === null) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map((item, index)=>sanitizeObject(item, `${path}[${index}]`));\n        }\n        const result = {};\n        for (const [key, value] of Object.entries(obj)){\n            const fullPath = path ? `${path}.${key}` : key;\n            if (sensitiveFields.some((field)=>key.toLowerCase().includes(field.toLowerCase()))) {\n                result[key] = \"[REDACTED]\";\n            } else {\n                result[key] = sanitizeObject(value, fullPath);\n            }\n        }\n        return result;\n    }\n    return sanitizeObject(sanitized);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUQsTUFBTUMsWUFBWTtRQUFFLEdBQUdGLElBQUk7SUFBQztJQUU1QixTQUFTRyxlQUFlQyxHQUFRLEVBQUVDLE9BQU8sRUFBRTtRQUN6QyxJQUFJLE9BQU9ELFFBQVEsWUFBWUEsUUFBUSxNQUFNO1lBQzNDLE9BQU9BO1FBQ1Q7UUFFQSxJQUFJRSxNQUFNQyxPQUFPLENBQUNILE1BQU07WUFDdEIsT0FBT0EsSUFBSUksR0FBRyxDQUFDLENBQUNDLE1BQU1DLFFBQVVQLGVBQWVNLE1BQU0sR0FBR0osS0FBSyxDQUFDLEVBQUVLLE1BQU0sQ0FBQyxDQUFDO1FBQzFFO1FBRUEsTUFBTUMsU0FBYyxDQUFDO1FBRXJCLEtBQUssTUFBTSxDQUFDM0MsS0FBSzRDLE1BQU0sSUFBSS9DLE9BQU9nRCxPQUFPLENBQUNULEtBQU07WUFDOUMsTUFBTVUsV0FBV1QsT0FBTyxHQUFHQSxLQUFLLENBQUMsRUFBRXJDLEtBQUssR0FBR0E7WUFFM0MsSUFBSWlDLGdCQUFnQmMsSUFBSSxDQUFDQyxDQUFBQSxRQUFTaEQsSUFBSVosV0FBVyxHQUFHNkQsUUFBUSxDQUFDRCxNQUFNNUQsV0FBVyxNQUFNO2dCQUNsRnVELE1BQU0sQ0FBQzNDLElBQUksR0FBRztZQUNoQixPQUFPO2dCQUNMMkMsTUFBTSxDQUFDM0MsSUFBSSxHQUFHbUMsZUFBZVMsT0FBT0U7WUFDdEM7UUFDRjtRQUVBLE9BQU9IO0lBQ1Q7SUFFQSxPQUFPUixlQUFlRDtBQUN4QiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuYXRoYVxcT25lRHJpdmVcXERlc2t0b3BcXHJlcG9zXFxOZXcgZm9sZGVyXFx3b3Jrc3BhY2UtMzcxNWRiMzQtZTliZS00ODQ5LWIxODgtOGNlMmZlNzMzODE2XFxzcmNcXGxpYlxcbG9nZ2luZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuXG4vKipcbiAqIFJlcXVlc3QgY29udGV4dCBmb3IgdHJhY2tpbmcgcmVxdWVzdHMgYWNyb3NzIHRoZSBhcHBsaWNhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RDb250ZXh0IHtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHVzZXJJZD86IHN0cmluZztcbiAgaXA/OiBzdHJpbmc7XG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgbWV0aG9kPzogc3RyaW5nO1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogTG9nIGxldmVscyBlbnVtXG4gKi9cbmVudW0gTG9nTGV2ZWwge1xuICBFUlJPUiA9IDAsXG4gIFdBUk4gPSAxLFxuICBJTkZPID0gMixcbiAgREVCVUcgPSAzLFxufVxuXG4vKipcbiAqIFNpbXBsZSBsb2dnZXIgY29tcGF0aWJsZSB3aXRoIGVkZ2UgcnVudGltZVxuICovXG5jbGFzcyBFZGdlTG9nZ2VyIHtcbiAgcHJpdmF0ZSBsb2dMZXZlbDogTG9nTGV2ZWw7XG4gIHByaXZhdGUgaXNEZXZlbG9wbWVudDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBsZXZlbCA9IHByb2Nlc3MuZW52LkxPR19MRVZFTCB8fCBcImluZm9cIjtcbiAgICB0aGlzLmxvZ0xldmVsID0gdGhpcy5wYXJzZUxvZ0xldmVsKGxldmVsKTtcbiAgICB0aGlzLmlzRGV2ZWxvcG1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUxvZ0xldmVsKGxldmVsOiBzdHJpbmcpOiBMb2dMZXZlbCB7XG4gICAgc3dpdGNoIChsZXZlbC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZXJyb3JcIjogcmV0dXJuIExvZ0xldmVsLkVSUk9SO1xuICAgICAgY2FzZSBcIndhcm5cIjogcmV0dXJuIExvZ0xldmVsLldBUk47XG4gICAgICBjYXNlIFwiaW5mb1wiOiByZXR1cm4gTG9nTGV2ZWwuSU5GTztcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOiByZXR1cm4gTG9nTGV2ZWwuREVCVUc7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gTG9nTGV2ZWwuSU5GTztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3VsZExvZyhsZXZlbDogTG9nTGV2ZWwpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbGV2ZWwgPD0gdGhpcy5sb2dMZXZlbDtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0TWVzc2FnZShsZXZlbDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIG1ldGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgdGltZXN0YW1wLFxuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlLFxuICAgICAgLi4ubWV0YSxcbiAgICB9O1xuXG4gICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICBPYmplY3Qua2V5cyhsb2dFbnRyeSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGxvZ0VudHJ5W2tleSBhcyBrZXlvZiB0eXBlb2YgbG9nRW50cnldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIGxvZ0VudHJ5W2tleSBhcyBrZXlvZiB0eXBlb2YgbG9nRW50cnldO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgY29uc3QgbWV0YVN0ciA9IE9iamVjdC5rZXlzKG1ldGEpLmxlbmd0aCA+IDAgPyBgICR7SlNPTi5zdHJpbmdpZnkobWV0YSl9YCA6IFwiXCI7XG4gICAgICBjb25zdCBjb250ZXh0U3RyID0gbWV0YS5yZXF1ZXN0SWQgPyBgIFske21ldGEucmVxdWVzdElkfSR7bWV0YS51c2VySWQgPyBgOiR7bWV0YS51c2VySWR9YCA6IFwiXCJ9XWAgOiBcIlwiO1xuICAgICAgcmV0dXJuIGAke3RpbWVzdGFtcH0gJHtsZXZlbC50b1VwcGVyQ2FzZSgpfSR7Y29udGV4dFN0cn06ICR7bWVzc2FnZX0ke21ldGFTdHJ9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobG9nRW50cnkpO1xuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBtZXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30pIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coTG9nTGV2ZWwuRVJST1IpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKHRoaXMuZm9ybWF0TWVzc2FnZShcImVycm9yXCIsIG1lc3NhZ2UsIG1ldGEpKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgbWV0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkTG9nKExvZ0xldmVsLldBUk4pKSB7XG4gICAgICBjb25zb2xlLndhcm4odGhpcy5mb3JtYXRNZXNzYWdlKFwid2FyblwiLCBtZXNzYWdlLCBtZXRhKSk7XG4gICAgfVxuICB9XG5cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIG1ldGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhMb2dMZXZlbC5JTkZPKSkge1xuICAgICAgY29uc29sZS5pbmZvKHRoaXMuZm9ybWF0TWVzc2FnZShcImluZm9cIiwgbWVzc2FnZSwgbWV0YSkpO1xuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgbWV0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkTG9nKExvZ0xldmVsLkRFQlVHKSkge1xuICAgICAgY29uc29sZS5kZWJ1Zyh0aGlzLmZvcm1hdE1lc3NhZ2UoXCJkZWJ1Z1wiLCBtZXNzYWdlLCBtZXRhKSk7XG4gICAgfVxuICB9XG5cbiAgbG9nKGxldmVsOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgbWV0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSB7XG4gICAgc3dpdGNoIChsZXZlbC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZXJyb3JcIjogdGhpcy5lcnJvcihtZXNzYWdlLCBtZXRhKTsgYnJlYWs7XG4gICAgICBjYXNlIFwid2FyblwiOiB0aGlzLndhcm4obWVzc2FnZSwgbWV0YSk7IGJyZWFrO1xuICAgICAgY2FzZSBcImluZm9cIjogdGhpcy5pbmZvKG1lc3NhZ2UsIG1ldGEpOyBicmVhaztcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOiB0aGlzLmRlYnVnKG1lc3NhZ2UsIG1ldGEpOyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHRoaXMuaW5mbyhtZXNzYWdlLCBtZXRhKTtcbiAgICB9XG4gIH1cblxuICBjaGlsZChjb250ZXh0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiAobWVzc2FnZTogc3RyaW5nLCBtZXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30pID0+IHRoaXMuZXJyb3IobWVzc2FnZSwgeyAuLi5jb250ZXh0LCAuLi5tZXRhIH0pLFxuICAgICAgd2FybjogKG1lc3NhZ2U6IHN0cmluZywgbWV0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSA9PiB0aGlzLndhcm4obWVzc2FnZSwgeyAuLi5jb250ZXh0LCAuLi5tZXRhIH0pLFxuICAgICAgaW5mbzogKG1lc3NhZ2U6IHN0cmluZywgbWV0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSA9PiB0aGlzLmluZm8obWVzc2FnZSwgeyAuLi5jb250ZXh0LCAuLi5tZXRhIH0pLFxuICAgICAgZGVidWc6IChtZXNzYWdlOiBzdHJpbmcsIG1ldGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSkgPT4gdGhpcy5kZWJ1ZyhtZXNzYWdlLCB7IC4uLmNvbnRleHQsIC4uLm1ldGEgfSksXG4gICAgICBsb2c6IChsZXZlbDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIG1ldGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSkgPT4gdGhpcy5sb2cobGV2ZWwsIG1lc3NhZ2UsIHsgLi4uY29udGV4dCwgLi4ubWV0YSB9KSxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgRWRnZUxvZ2dlcigpO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIHJlcXVlc3QgSURcbiAqIEByZXR1cm5zIEEgdW5pcXVlIHJlcXVlc3QgSUQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlcXVlc3RJZCgpOiBzdHJpbmcge1xuICByZXR1cm4gdXVpZHY0KCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2hpbGQgbG9nZ2VyIHdpdGggcmVxdWVzdCBjb250ZXh0XG4gKiBAcGFyYW0gY29udGV4dCAtIFJlcXVlc3QgY29udGV4dCBpbmZvcm1hdGlvblxuICogQHJldHVybnMgQSBjaGlsZCBsb2dnZXIgd2l0aCBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0TG9nZ2VyKGNvbnRleHQ6IFJlcXVlc3RDb250ZXh0KSB7XG4gIHJldHVybiBsb2dnZXIuY2hpbGQoY29udGV4dCk7XG59XG5cbi8qKlxuICogTG9nIHNlY3VyaXR5IGV2ZW50cyB3aXRoIGFwcHJvcHJpYXRlIGxldmVsIGFuZCBjb250ZXh0XG4gKiBAcGFyYW0gZXZlbnQgLSBTZWN1cml0eSBldmVudCB0eXBlXG4gKiBAcGFyYW0gbWVzc2FnZSAtIEV2ZW50IG1lc3NhZ2VcbiAqIEBwYXJhbSBjb250ZXh0IC0gQWRkaXRpb25hbCBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dTZWN1cml0eUV2ZW50KFxuICBldmVudDogXCJhdXRoX3N1Y2Nlc3NcIiB8IFwiYXV0aF9mYWlsdXJlXCIgfCBcInJhdGVfbGltaXRcIiB8IFwidW5hdXRob3JpemVkX2FjY2Vzc1wiIHwgXCJ0b2tlbl9yZWZyZXNoXCIsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgY29udGV4dDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9XG4pIHtcbiAgY29uc3QgbGV2ZWwgPSBldmVudCA9PT0gXCJhdXRoX2ZhaWx1cmVcIiB8fCBldmVudCA9PT0gXCJ1bmF1dGhvcml6ZWRfYWNjZXNzXCIgPyBcIndhcm5cIiA6IFwiaW5mb1wiO1xuICBcbiAgbG9nZ2VyLmxvZyhsZXZlbCwgbWVzc2FnZSwge1xuICAgIHNlY3VyaXR5RXZlbnQ6IGV2ZW50LFxuICAgIC4uLmNvbnRleHQsXG4gIH0pO1xufVxuXG4vKipcbiAqIExvZyBBUEkgcmVxdWVzdHMgd2l0aCB0aW1pbmcgYW5kIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAcGFyYW0gY29udGV4dCAtIFJlcXVlc3QgY29udGV4dFxuICogQHBhcmFtIGR1cmF0aW9uIC0gUmVxdWVzdCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAqIEBwYXJhbSBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICogQHBhcmFtIGVycm9yIC0gRXJyb3IgaWYgcmVxdWVzdCBmYWlsZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZ0FwaVJlcXVlc3QoXG4gIGNvbnRleHQ6IFJlcXVlc3RDb250ZXh0LFxuICBkdXJhdGlvbjogbnVtYmVyLFxuICBzdGF0dXNDb2RlOiBudW1iZXIsXG4gIGVycm9yPzogRXJyb3Jcbikge1xuICBjb25zdCBsZXZlbCA9IHN0YXR1c0NvZGUgPj0gNDAwID8gXCJ3YXJuXCIgOiBcImluZm9cIjtcbiAgY29uc3QgbWVzc2FnZSA9IGAke2NvbnRleHQubWV0aG9kfSAke2NvbnRleHQudXJsfSAtICR7c3RhdHVzQ29kZX0gKCR7ZHVyYXRpb259bXMpYDtcbiAgXG4gIGNvbnN0IGxvZ0RhdGEgPSB7XG4gICAgLi4uY29udGV4dCxcbiAgICBkdXJhdGlvbixcbiAgICBzdGF0dXNDb2RlLFxuICAgIGVycm9yOiBlcnJvciA/IHtcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgfSA6IHVuZGVmaW5lZCxcbiAgfTtcbiAgXG4gIGxvZ2dlci5sb2cobGV2ZWwsIG1lc3NhZ2UsIGxvZ0RhdGEpO1xufVxuXG4vKipcbiAqIFNhbml0aXplIHNlbnNpdGl2ZSBkYXRhIGZyb20gbG9nc1xuICogQHBhcmFtIGRhdGEgLSBEYXRhIHRvIHNhbml0aXplXG4gKiBAcmV0dXJucyBTYW5pdGl6ZWQgZGF0YSB3aXRoIHNlbnNpdGl2ZSBmaWVsZHMgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVMb2dEYXRhKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgY29uc3Qgc2Vuc2l0aXZlRmllbGRzID0gW1xuICAgIFwicGFzc3dvcmRcIixcbiAgICBcInRva2VuXCIsXG4gICAgXCJhY2Nlc3NUb2tlblwiLFxuICAgIFwicmVmcmVzaFRva2VuXCIsXG4gICAgXCJzZWNyZXRcIixcbiAgICBcImtleVwiLFxuICAgIFwiYXV0aG9yaXphdGlvblwiLFxuICAgIFwiY29va2llXCIsXG4gIF07XG4gIFxuICBjb25zdCBzYW5pdGl6ZWQgPSB7IC4uLmRhdGEgfTtcbiAgXG4gIGZ1bmN0aW9uIHNhbml0aXplT2JqZWN0KG9iajogYW55LCBwYXRoID0gXCJcIik6IGFueSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICByZXR1cm4gb2JqLm1hcCgoaXRlbSwgaW5kZXgpID0+IHNhbml0aXplT2JqZWN0KGl0ZW0sIGAke3BhdGh9WyR7aW5kZXh9XWApKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgICBjb25zdCBmdWxsUGF0aCA9IHBhdGggPyBgJHtwYXRofS4ke2tleX1gIDoga2V5O1xuICAgICAgXG4gICAgICBpZiAoc2Vuc2l0aXZlRmllbGRzLnNvbWUoZmllbGQgPT4ga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmllbGQudG9Mb3dlckNhc2UoKSkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gXCJbUkVEQUNURURdXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRba2V5XSA9IHNhbml0aXplT2JqZWN0KHZhbHVlLCBmdWxsUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgXG4gIHJldHVybiBzYW5pdGl6ZU9iamVjdChzYW5pdGl6ZWQpO1xufSJdLCJuYW1lcyI6WyJ2NCIsInV1aWR2NCIsIkxvZ0xldmVsIiwiRWRnZUxvZ2dlciIsImNvbnN0cnVjdG9yIiwibGV2ZWwiLCJwcm9jZXNzIiwiZW52IiwiTE9HX0xFVkVMIiwibG9nTGV2ZWwiLCJwYXJzZUxvZ0xldmVsIiwiaXNEZXZlbG9wbWVudCIsInRvTG93ZXJDYXNlIiwic2hvdWxkTG9nIiwiZm9ybWF0TWVzc2FnZSIsIm1lc3NhZ2UiLCJtZXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9nRW50cnkiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInVuZGVmaW5lZCIsIm1ldGFTdHIiLCJsZW5ndGgiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGV4dFN0ciIsInJlcXVlc3RJZCIsInVzZXJJZCIsInRvVXBwZXJDYXNlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImluZm8iLCJkZWJ1ZyIsImxvZyIsImNoaWxkIiwiY29udGV4dCIsImxvZ2dlciIsImdlbmVyYXRlUmVxdWVzdElkIiwiY3JlYXRlUmVxdWVzdExvZ2dlciIsImxvZ1NlY3VyaXR5RXZlbnQiLCJldmVudCIsInNlY3VyaXR5RXZlbnQiLCJsb2dBcGlSZXF1ZXN0IiwiZHVyYXRpb24iLCJzdGF0dXNDb2RlIiwibWV0aG9kIiwidXJsIiwibG9nRGF0YSIsInN0YWNrIiwic2FuaXRpemVMb2dEYXRhIiwiZGF0YSIsInNlbnNpdGl2ZUZpZWxkcyIsInNhbml0aXplZCIsInNhbml0aXplT2JqZWN0Iiwib2JqIiwicGF0aCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJpbmRleCIsInJlc3VsdCIsInZhbHVlIiwiZW50cmllcyIsImZ1bGxQYXRoIiwic29tZSIsImZpZWxkIiwiaW5jbHVkZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/logging.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/preact","vendor-chunks/object-hash","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/@next-auth"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cnatha%5COneDrive%5CDesktop%5Crepos%5CNew%20folder%5Cworkspace-3715db34-e9be-4849-b188-8ce2fe733816&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();